<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Generator Game</title>
  <link href="https://fonts.googleapis.com/css?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="purchase-multiplier-container">
    <label for="purchase-multiplier">Purchase:</label>
    <select id="purchase-multiplier" aria-label="Purchase multiplier">
      <option value="1">1x</option>
      <option value="2">2x</option>
      <option value="5">5x</option>
      <option value="10">10x</option>
      <option value="50">50x</option>
      <option value="100">100x</option>
      <option value="1000">1,000x</option>
    </select>
  </div>
  <div class="menu-bar">
    <button id="homeBtn" class="menu-button" aria-label="Home">Home</button>
    <input type="text" id="username" placeholder="Username" aria-label="Username">
    <button id="saveBtn" class="menu-button" aria-label="Save Game">Save Game</button>
    <button id="loadBtn" class="menu-button" aria-label="Load Game">Load Game</button>
    <button id="resetBtn" class="menu-button" aria-label="Reset Game">Reset Game</button>
    <button id="storeBtn" class="menu-button" aria-label="Store">Store</button>
    <button id="codeBtn" class="menu-button" aria-label="Enter Code">Enter Code</button>
    <button id="ascendBtn" class="menu-button" aria-label="Ascension">Ascension</button>
    <button id="ascendUpgradesBtn" class="menu-button" aria-label="Ascension Upgrades">Ascension Upgrades</button>
  </div>
  <main>
    <h1>Generators Game</h1>
    <div class="main-stats">
      <div id="energy">Total Energy: 10</div>
      <div id="eps">EPS: 0</div>
      <div id="generators">Generators: 0</div>
    </div>
    <div id="tier-selector" class="tier-selector">
      <button class="tier-btn active" data-tier="1" aria-label="Tier 1">Tier 1</button>
      <button class="tier-btn" data-tier="2" aria-label="Tier 2">Tier 2</button>
      <button class="tier-btn" data-tier="3" aria-label="Tier 3">Tier 3</button>
      <button class="tier-btn" data-tier="4" aria-label="Tier 4">Tier 4</button>
      <button class="tier-btn" data-tier="5" aria-label="Tier 5">Tier 5</button>
    </div>
    <section id="generators-section"></section>
    <!-- Code Input Modal -->
    <div id="code-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(24,26,27,0.96); z-index:10001; align-items:center; justify-content:center;">
      <div style="background:#23272b; border-radius:16px; box-shadow:0 4px 32px #000a; padding:32px 24px; max-width:400px; width:90vw; margin:auto; position:relative;">
        <button id="closeCodeBtn" style="position:absolute; top:12px; right:16px; background:none; border:none; color:#ffb300; font-size:1.5em; cursor:pointer;">&times;</button>
        <h2 style="color:#ffb300; text-align:center; margin-bottom:24px; font-family:'Orbitron',monospace;">Redeem Code</h2>
        <input id="codeInput" type="text" placeholder="Enter code here" style="width:100%; padding:10px; border-radius:6px; border:2px solid #444950; font-size:1em; margin-bottom:16px; background:#181a1b; color:#fff;">
        <button id="redeemCodeBtn" class="menu-button" style="width:100%;">Redeem</button>
        <div id="codeResultMsg" style="color:#69f0ae; margin-top:8px; display:none;"></div>
      </div>
    </div>
    <!-- Store Modal -->
    <div id="store-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(24,26,27,0.96); z-index:10000; align-items:center; justify-content:center;">
      <div style="background:#23272b; border-radius:16px; box-shadow:0 4px 32px #000a; padding:32px 24px; max-width:400px; width:90vw; margin:auto; position:relative;">
        <button id="closeStoreBtn" style="position:absolute; top:12px; right:16px; background:none; border:none; color:#ffb300; font-size:1.5em; cursor:pointer;">&times;</button>
        <h2 style="color:#ffb300; text-align:center; margin-bottom:24px; font-family:'Orbitron',monospace;">Store</h2>
        <div id="store-items">
          <div style="margin-bottom:18px; padding:12px; background:#181a1b; border-radius:8px;">
            <div style="font-weight:bold; color:#fff;">24h 2x Energy Output</div>
            <div style="color:#ffb300; margin-bottom:8px;">Cost: 100,000 Energy</div>
            <button id="buy-boost-2x" class="menu-button" style="width:100%;">Buy Boost</button>
            <div id="boost-active-msg" style="color:#69f0ae; margin-top:8px; display:none;">Active!</div>
          </div>
          <div style="margin-bottom:18px; padding:12px; background:#181a1b; border-radius:8px;">
            <div style="font-weight:bold; color:#fff;">Permanent 2x Coal Generator Output</div>
            <div style="color:#ffb300; margin-bottom:8px;">Cost: 1,000,000 Energy</div>
            <button id="buy-perm-2x-coal" class="menu-button" style="width:100%;">Buy Permanent Boost</button>
            <div id="perm-coal-active-msg" style="color:#69f0ae; margin-top:8px; display:none;">Purchased!</div>
          </div>
        </div>
      </div>
    </div>
    <!-- Ascension Modal -->
    <div id="ascension-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(24,26,27,0.96); z-index:10002; align-items:center; justify-content:center;">
      <div style="background:#23272b; border-radius:16px; box-shadow:0 4px 32px #000a; padding:32px 24px; max-width:400px; width:90vw; margin:auto; position:relative;">
        <button id="closeAscendBtn" style="position:absolute; top:12px; right:16px; background:none; border:none; color:#ffb300; font-size:1.5em; cursor:pointer;">&times;</button>
        <h2 style="color:#ffb300; text-align:center; margin-bottom:24px; font-family:'Orbitron',monospace;">Ascension</h2>
        <div style="color:#fff; margin-bottom:16px;">
          Ascend to reset your progress for powerful bonuses.<br>
          <b>Requirement:</b> 1e9 Energy<br>
          <b>Reward:</b> +10% permanent EPS boost per ascension.
        </div>
        <button id="ascendConfirmBtn" class="menu-button" style="width:100%;">Ascend</button>
        <div id="ascendResultMsg" style="color:#69f0ae; margin-top:8px; display:none;"></div>
      </div>
    </div>
    <!-- Ascension Upgrades Modal -->
    <div id="ascend-upgrades-modal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(24,26,27,0.96); z-index:10003; align-items:center; justify-content:center;">
      <div style="background:#23272b; border-radius:16px; box-shadow:0 4px 32px #000a; padding:32px 24px; max-width:600px; width:95vw; margin:auto; position:relative;">
        <button id="closeAscendUpgradesBtn" style="position:absolute; top:12px; right:16px; background:none; border:none; color:#ffb300; font-size:1.5em; cursor:pointer;">&times;</button>
        <h2 style="color:#ffb300; text-align:center; margin-bottom:24px; font-family:'Orbitron',monospace;">Ascension Upgrades</h2>
        <div style="color:#fff; margin-bottom:16px; text-align:center;">
          Ascension Points: <span id="ascendPointsDisplay">0</span>
        </div>
        <div id="ascend-skilltree-container" style="position:relative; min-height:320px; display:flex; justify-content:center; align-items:center;">
          <svg id="ascend-skilltree-lines" width="100%" height="320" style="position:absolute; left:0; top:0; pointer-events:none;">
            <!-- Lines will be drawn dynamically by JS -->
          </svg>
          <div id="ascend-skilltree-nodes" style="display:flex; justify-content:center; align-items:center; width:100%; position:relative;">
            <!-- Nodes will be rendered by JS -->
          </div>
        </div>
      </div>
    </div>
  </main>
  <div id="toast-container" aria-live="polite"></div>
  <script src="https://cdn.jsdelivr.net/npm/bignumber.js@9.1.2/bignumber.min.js"></script>
  <script src="game.js"></script>
</body>
</html>